# 接口interface

接口就是`clojure`里的`protol`, 代表一种协议和约定, 是一种抽象的类型, 并不知道也无需知道它的内部实现。
接口是静态类型语言发挥动态性的法宝, 同时又有静态类型的安全性保证.

## 定义

使用type+interface关键字可以定义一个接口
接口里只能声明函数，不能写具体实现

```golang
type Awesome interface {
  printInfo()
}
```

## 值

接口的值是引用类型，包含2个指针: 
1. 指向**内部表结构**, 存储的是**实体类型的信息以及相关联的方法集合**
2. 指向存储的**实体类型**

```golang
// w得到了3个不同的值
var w io.Writer
w = os.Stdout
w = new(bytes.Buffer)
w = nil
```

类型是编译期的概念, 类型不是一个值， 提供每个类型信息的值成为类型描述符，例如类型的名称和方法

初始化后的状态，引用一个`<<go语言圣经>>`的图:
![](http://7xox4k.com1.z0.glb.clouddn.com/2018/04/28/20180428155039.png)

赋值`os.Stdout`后的状态
![](http://7xox4k.com1.z0.glb.clouddn.com/2018/04/28/20180428155446.png)
类型信息就是`*os.File`的类型描述符, 值是指针，持有`os.Stdout`的拷贝


## 方法集合

实体类型以值接收者实现接口的时候，不管是实体类型的值，还是实体类型的指针，都实现了该接口
实体类型以指针接收者实现接口的时候, 只有指向这个类型的指针才被认为实现了接接口

## duck typing

golang里不需要显式的`implement`接口，只要定义了所有接口的方法就认为实现了接口.
这也即所谓的`duck typing`, 只要长得像鸭子，并且会呱呱叫，那么就认为它是鸭子。


## 嵌入类型

golang里没有显式继承和实现， 推荐组合
嵌入类型的定义，方便我们扩展或者修改已有类型的行为，
**组合优于继承!!**

## Others

在Go语言中，没有特别的关键字来声明一个方法、函数或者类型是否为公开的，Go语言提供的是以大小写的方式进行区分的，如果一个类型的名字是以大写开头，那么其他包就可以访问；如果以小写开头，其他包就不能访问。
